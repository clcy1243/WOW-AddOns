--------------------------------------- 所有TextStatusBarText字號小一點-------------------------------------local fontFile, fontSize, fontFlags = TextStatusBarText:GetFont()if (GetLocale():sub(1,2) == "zh") then    TextStatusBarText:SetFont(fontFile, fontSize-3, fontFlags)    _G["FocusFrameTextureFrameHealthBarText"]:SetFont(fontFile, fontSize-3, fontFlags)else    TextStatusBarText:SetFont(fontFile, fontSize-1, fontFlags)    _G["FocusFrameTextureFrameHealthBarText"]:SetFont(fontFile, fontSize-1, fontFlags)end--職業顔色local color = RAID_CLASS_COLORS[select(2,UnitClass("player"))] or NORMAL_FONT_COLORPlayerName:SetTextColor(color.r, color.g, color.b)--BuffFrame 缩小一些,圆形显示BuffFrame:SetScale(0.9)hooksecurefunc("BuffFrame_Update", function()    local buff    for i = 1, BUFF_ACTUAL_DISPLAY do		buff = _G["BuffButton"..i]        if (not buff.border) then            buff.border = buff:CreateTexture(nil, "BORDER")            buff.border:SetSize(buff:GetWidth(), buff:GetHeight())            buff.border:SetPoint("CENTER")            buff.border:SetTexture("Interface\\Minimap\\UI-QuestBlob-MinimapRing")            buff.border:SetVertexColor(0.1, 0.1, 0.2)            _G["BuffButton"..i.."Icon"]:SetMask("Interface\\Minimap\\UI-Minimap-Background")        end    endend)--电影效果时,微调一下小地图if (IsAddOnLoaded("TinyFilmEffect")) then    Minimap:HookScript("OnShow", function()        BuffFrame:SetPoint("TOPRIGHT", -200, -8)        MinimapZoneText:SetJustifyH("CENTER")        MinimapBorderTop:Show()        MiniMapWorldMapButton:Show()        MinimapCluster:SetHitRectInsets(30,10,0,30)        MinimapCluster:SetPoint("TOPRIGHT", 0, 0)    end)    Minimap:HookScript("OnHide", function()        BuffFrame:SetPoint("TOPRIGHT", -20, -8)        MinimapZoneText:SetJustifyH("RIGHT")        MinimapBorderTop:Hide()        MiniMapWorldMapButton:Hide()        MinimapCluster:SetHitRectInsets(30,10,0,190)        MinimapCluster:SetPoint("TOPRIGHT", 0, 28)    end)    hooksecurefunc("BuffFrame_Update", function()        if (Minimap:IsShown()) then            BuffFrame:SetPoint("TOPRIGHT", -200, -8)        else            BuffFrame:SetPoint("TOPRIGHT", -20, -8)        end    end)end------------------------------------- 自動根據是否戰鬥隱藏頭像-----------------------------------hooksecurefunc("PlayerFrame_UpdateStatus", function()    local _, instanceType = IsInInstance()    if (PlayerFrame.inCombat or PlayerFrame.onHateList or instanceType == "arena") then        PlayerFrame:SetAlpha(1)    else        PlayerFrame:SetAlpha(0.4)    endend)------------------------------------- 離開和進入戰鬥,大文字提示-----------------------------------local locale = GetLocale()local L = {    enterCombat = { default = "Enter Combat", zhTW = "進入戰鬥", zhCN = "进入战斗" },    leaveCombat = { default = "Leave Combat", zhTW = "離開戰鬥", zhCN = "离开战斗" },}local alertFrame = CreateFrame("Frame")alertFrame:SetSize(400, 65)alertFrame:SetPoint("TOP", 0, -280)alertFrame:SetScale(0.8)alertFrame:Hide()alertFrame.Bg = alertFrame:CreateTexture(nil, "BACKGROUND")alertFrame.Bg:SetTexture("Interface\\LevelUp\\MinorTalents")alertFrame.Bg:SetPoint("TOP")alertFrame.Bg:SetSize(400, 67)alertFrame.Bg:SetTexCoord(0, 400/512, 341/512, 407/512)alertFrame.Bg:SetVertexColor(1, 1, 1, 0.4)alertFrame.text = alertFrame:CreateFontString(nil, "ARTWORK", "GameFont_Gigantic")alertFrame.text:SetPoint("CENTER")alertFrame:SetScript("OnUpdate", function(self, elapsed)    self.timer = self.timer + elapsed    if (self.timer > self.totalTime) then self:Hide() end    if (self.timer <= 0.5) then        self:SetAlpha(self.timer * 2)    elseif (self.timer > 2) then        self:SetAlpha(1-self.timer/self.totalTime)    endend)alertFrame:SetScript("OnShow", function(self)    self.totalTime = 3.2    self.timer = 0end)alertFrame:SetScript("OnEvent", function(self, event, ...)    self:Hide()    if (event == "PLAYER_REGEN_DISABLED") then        self.text:SetText(L.enterCombat[locale] or L.enterCombat.default)    elseif (event == "PLAYER_REGEN_ENABLED") then        self.text:SetText(L.leaveCombat[locale] or L.leaveCombat.default)    end    self:Show()end)alertFrame:RegisterEvent("PLAYER_REGEN_ENABLED")alertFrame:RegisterEvent("PLAYER_REGEN_DISABLED")--------------------------------------- 隱藏HP/MP-------------------------------------hooksecurefunc("TextStatusBar_UpdateTextString", function(textStatusBar)	local name = textStatusBar:GetName()    if (name == "PartyMemberFrame1HealthBar"        or name == "PartyMemberFrame2HealthBar"        or name == "PartyMemberFrame3HealthBar"        or name == "PartyMemberFrame4HealthBar"        or name == "PartyMemberFrame1ManaBar"        or name == "PartyMemberFrame2ManaBar"        or name == "PartyMemberFrame3ManaBar"        or name == "PartyMemberFrame4ManaBar"        or name == "ArenaEnemyFrame1HealthBar"        or name == "ArenaEnemyFrame2HealthBar"        or name == "ArenaEnemyFrame3HealthBar"        or name == "ArenaEnemyFrame4HealthBar"        or name == "ArenaEnemyFrame1ManaBar"        or name == "ArenaEnemyFrame2ManaBar"        or name == "ArenaEnemyFrame3ManaBar"        or name == "ArenaEnemyFrame4ManaBar"        or name == "PetFrameHealthBar"        or name == "PetFrameManaBar") then        if (textStatusBar.lockShow == 0) then            textStatusBar.TextString:Hide()            if (textStatusBar.LeftText) then textStatusBar.LeftText:Hide() end            if (textStatusBar.RightText) then textStatusBar.RightText:Hide() end        end    endend)